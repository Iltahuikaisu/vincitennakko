{"version":3,"sources":["modules/serverInterface.js","App.js","index.js"],"names":["url","axios","post","then","value","console","log","data","cookieConfig","maxAge","Game","props","clickPossible","onClick","setClickPossible","newPoints","points","setCookie","ServerInterface","pointsAfterGame","setNotification","distance","cookies","alert","catch","error","Points","currentPoints","Notification","notification","App","useCookies","useState","useEffect","className","ReactDOM","render","CookiesProvider","document","getElementById"],"mappings":"6RACMA,EAAM,yBAWG,EATG,WACd,OACAC,IAAMC,KAAKF,EAAIA,GAAKG,MAAK,SAACC,GAEtB,OADAC,QAAQC,IAAIF,EAAMG,MACXH,EAAMG,SCFfC,EAAe,CAAEC,OAAQ,MAEzBC,EAAO,SAACC,GACV,OAAIA,EAAMC,cAEF,yCAEA,4BAAQC,QAAS,WACTF,EAAMG,kBAAiB,GACvB,IAAMC,EAAYJ,EAAMK,OAAOA,OAAS,EAExCL,EAAMM,UAAU,SAAU,CAAED,OAAQD,GAAaP,GACjDU,IAA4Bf,MAAK,SAACC,GAC9BO,EAAMG,kBAAiB,GACvB,IAAMK,EAAkBJ,EAAYX,EAAMY,OACtCZ,EAAMY,OAAS,GACfL,EAAMM,UAAU,SAAU,CAAED,OAAQG,GAAmBX,GACvDG,EAAMS,gBAAN,kBAAiChB,EAAMY,OAAvC,0CAEAL,EAAMS,gBAAN,oBAAmChB,EAAMiB,SAAzC,8BAGgC,IAAhCV,EAAMW,QAAQN,OAAOA,SACrBO,MAAM,6BACNZ,EAAMM,UAAU,SAAU,CAAED,OAAQ,IAAMR,IAG1CW,EAAkB,IAClBI,MAAM,6BACNZ,EAAMM,UAAU,SAAU,CAAED,OAAQ,IAAMR,OAG/CgB,OAAM,SAACC,GAASd,EAAMS,gBAAgB,2BACjCT,EAAMG,kBAAiB,QA1BvC,kBAgCA,yCAEI,4BAAQD,QAAS,WAAMR,QAAQC,IAAI,qBAAnC,oBAMVoB,EAAS,SAACf,GACZ,GAAIA,EAAMW,QAAQN,OAAQ,CACtB,IAAMW,EAAgBhB,EAAMW,QAAQN,OAAOA,OAE3C,OADAX,QAAQC,IAAI,iBAER,gDACiBqB,EADjB,YAMJ,OACI,mDAQNC,EAAe,SAACjB,GAClB,OACI,6BACKA,EAAMkB,eAyCJC,MAlCf,WAAgB,IAAD,EACkBC,cADlB,mBACJT,EADI,KACKL,EADL,OAE6Be,mBAAS,IAFtC,mBAEJH,EAFI,KAEUT,EAFV,OAG+BY,oBAAS,GAHxC,mBAGJpB,EAHI,KAGWE,EAHX,KAcX,OAVAmB,qBAAU,WACNV,MAAM,yEACNlB,QAAQC,IAAIE,GACPc,EAAQN,SACTC,EAAU,SAAU,CAAED,OAAQ,IAAMR,GACpCH,QAAQC,IAAIgB,EAAQN,WAEzB,IAIC,6BACI,yBAAKkB,UAAU,OAAf,0BAGA,6BACI,kBAAC,EAAD,CAAMjB,UAAWA,EACbK,QAASA,EACTN,OAAQM,EAAQN,OAChBI,gBAAiBA,EACjBR,cAAeA,EACfE,iBAAkBA,IACtB,kBAAC,EAAD,CAAQQ,QAASA,IACjB,kBAAC,EAAD,CAAcO,aAAcA,EACxBT,gBAAiBA,O,QCxGrCe,IAASC,OAAO,kBAACC,EAAA,EAAD,KACI,kBAAC,EAAD,OACgBC,SAASC,eAAe,W","file":"static/js/main.fc5a82c5.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst url = 'http://localhost:3001/'\r\n\r\nconst playPoint = () => {\r\n    return(\r\n    axios.post(url,url).then((value)=>{\r\n        console.log(value.data)\r\n        return(value.data)\r\n    })\r\n    )\r\n}\r\n\r\nexport default {playPoint}","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { useCookies } from 'react-cookie'\nimport ServerInterface from './modules/serverInterface'\n\nconst cookieConfig = { maxAge: 3600 }\n\nconst Game = (props) => {\n    if (props.clickPossible) {\n        return (\n            <div>\n            Game here\n            <button onClick={() => {\n                    props.setClickPossible(false)\n                    const newPoints = props.points.points - 1\n\n                    props.setCookie('points', { points: newPoints }, cookieConfig)\n                    ServerInterface.playPoint().then((value) => {\n                        props.setClickPossible(true)\n                        const pointsAfterGame = newPoints + value.points\n                        if (value.points > 0) {\n                            props.setCookie('points', { points: pointsAfterGame }, cookieConfig)\n                            props.setNotification(`You won ${value.points} points! 10 points until next prize!`)\n                        } else {\n                            props.setNotification(`You lost. ${value.distance} points until next prize!`)\n                        }\n\n                        if (props.cookies.points.points === 0) {\n                            alert(`You lost. Start new game?`)\n                            props.setCookie('points', { points: 20 }, cookieConfig)\n                        }\n\n                        if (pointsAfterGame < 1) {\n                            alert(`You lost. Start new game?`)\n                            props.setCookie('points', { points: 20 }, cookieConfig)\n                        }\n\n                    }).catch((error)=>{props.setNotification('Error, please try again')\n                            props.setClickPossible(true)})\n                }}>Play the game</button>\n            </div>\n        )\n    } else {\n        return (\n            <div>\n                Game here\n                <button onClick={()=> {console.log('wait for server')}}>Waiting server</button>\n            </div>\n        )\n    }\n}\n\nconst Points = (props) => {\n    if (props.cookies.points) {\n        const currentPoints = props.cookies.points.points\n        console.log('cookies found')\n        return (\n            <div>\n                {`You have ${currentPoints} points`}\n            </div>\n        )\n    } else {\n\n        return (\n            <div>\n                {`Loading cooookies`}\n            </div>\n        )\n    }\n\n}\n\nconst Notification = (props) => {\n    return (\n        <div>\n            {props.notification}\n        </div>\n    )\n}\n\n\n\nfunction App() {\n    const [cookies, setCookie] = useCookies()\n    const [notification, setNotification] = useState('')\n    const [clickPossible, setClickPossible] = useState(true)\n    useEffect(() => {\n        alert('This site uses cookies to store and view game state on user computer.')\n        console.log(cookieConfig)\n        if (!cookies.points) {\n            setCookie('points', { points: 20 }, cookieConfig)\n            console.log(cookies.points)\n        }\n    }, []\n    )\n\n    return (\n        <div>\n            <div className=\"App\">\n                Welcome to button game\n    </div>\n            <div>\n                <Game setCookie={setCookie}\n                    cookies={cookies}\n                    points={cookies.points}\n                    setNotification={setNotification}\n                    clickPossible={clickPossible}\n                    setClickPossible={setClickPossible} />\n                <Points cookies={cookies} />\n                <Notification notification={notification}\n                    setNotification={setNotification} />\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { CookiesProvider } from 'react-cookie';\n\nReactDOM.render(<CookiesProvider>\n                    <App />\n                </CookiesProvider>, document.getElementById('root'));\n"],"sourceRoot":""}