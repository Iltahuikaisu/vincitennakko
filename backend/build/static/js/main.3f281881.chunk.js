(this.webpackJsonpennakkovincit=this.webpackJsonpennakkovincit||[]).push([[0],{36:function(e,t,n){e.exports=n(64)},41:function(e,t,n){},42:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(10),s=n.n(a),c=(n(41),n(9)),l=(n(42),n(28)),r=n.n(l),u="/play_game",p=function(){return r.a.post(u,u).then((function(e){return console.log(e.data),e.data}))},m={maxAge:3600},k=function(e){e.setCookie("points",{playerPoints:e.playerPoints},m)},f=n(66),E=n(6),g=function(e){return e.cookies.points&&e.cookies.points.playerPoints<1?i.a.createElement("div",null,"You lost. Better luck next time"):(console.log("game rendered"),i.a.createElement(E.a,{style:{padding:"15px"}},i.a.createElement(f.a,{variant:"danger",onClick:function(){!function(e){console.log("click not possible"),e.setClickPossible(!1),p().then((function(t){console.log("server responded");var n=e.cookies.points.playerPoints-1;console.log("new points ".concat(n)),k({playerPoints:n,setCookie:e.setCookie}),e.setClickPossible(!0),console.log("clicks possible");var o=n+t.prizePoints;console.log(t.prizePoints),t.prizePoints>0?(k({playerPoints:o,setCookie:e.setCookie}),e.setNotification("You won ".concat(t.prizePoints," points! 10 points until next prize!"))):e.setNotification("You lost. ".concat(t.distanceToNextPrize," points until next prize!"))}))}(e)}},"Play the game")))},d=n(67),P=n(8),b=(n(61),function(e){return e.show?i.a.createElement("footer",null,i.a.createElement(P.a,{dismissible:!0,variant:"warning",onClose:function(){return e.setShow(!1)}},"This app uses cookies to store data")):i.a.createElement(i.a.Fragment,null)}),v=function(e){var t="primary",n="Try again.";if(e.cookies.points){e.cookies.points.playerPoints<1?(t="danger",n=" You lost. Better luck next time"):e.cookies.points.playerPoints>20&&(t="success",n="You are winning!");var o=e.cookies.points.playerPoints;return i.a.createElement(P.a,{variant:t},"You have ".concat(o," points. ").concat(n))}return i.a.createElement(P.a,null,"Waiting for points")},y=function(e){return i.a.createElement(P.a,{variant:"primary"},e.notification)};var h=function(){var e=Object(d.a)(),t=Object(c.a)(e,2),n=t[0],a=t[1],s=Object(o.useState)(""),l=Object(c.a)(s,2),r=l[0],u=l[1],p=Object(o.useState)(!0),m=Object(c.a)(p,2),f=m[0],P=m[1],h=Object(o.useState)(!0),C=Object(c.a)(h,2),w=C[0],j=C[1];return Object(o.useEffect)((function(e){u("Press button and win points."),n.points||(console.log("cookies set"),k({playerPoints:20,setCookie:a}))}),[]),i.a.createElement("div",null,i.a.createElement(E.a,null,i.a.createElement("h1",null,"Welcome to button game")),i.a.createElement("div",null,i.a.createElement(E.a,null,i.a.createElement(g,{setCookie:a,cookies:n,setNotification:u,clickPossible:f,setClickPossible:P})),i.a.createElement(E.a,null,i.a.createElement(v,{cookies:n,setCookie:a})),i.a.createElement(E.a,null,i.a.createElement(y,{notification:r,setNotification:u}))),i.a.createElement(E.a,{style:{padding:"15px"}},i.a.createElement(b,{setShow:j,show:w})))},C=n(68);s.a.render(i.a.createElement(C.a,null,i.a.createElement(h,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.3f281881.chunk.js.map